<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="article:published_time" content="{{ .Date.Format "2006-01-02"}} "/>
    <meta property="article:modified_time" content="{{ .Date.Format "2006-01-02"}} "/>
    {{ if .Title }}<title>{{ .Title }}</title>{{ end }}
    <link rel="canonical" href="{{ .Permalink }}" />

    {{ if eq (getenv "HUGO_ENV") "development" }}
    {{ $cssOpts := (dict "enableSourceMap" true "includePaths" (slice "node_modules/tachyons" "assets")) }}
    {{ $styles := resources.Get "style.css" | toCSS $cssOpts | postCSS }}
    <link rel="stylesheet" href="{{ $styles.Permalink }}" media="screen">
    {{ else }}
    {{ $cssOpts := (dict "enableSourceMap" false "includePaths" (slice "node_modules/tachyons" "assets")) }}
    {{/* is minify really relevant here? we're using cssnano already at the end of the postcss pipeline */}}
    {{ with $styles := resources.Get "style.css" | toCSS $cssOpts | postCSS | minify | fingerprint }}
    <style>{{ .Content | safeCSS }}</style>
    {{ end }}
    {{ end }}

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  </head>
  <nav class="dt w-100">
    <span>/ </span>
      <a href="{{ .Site.BaseURL }}" class="b">{{ .Site.Title }}</a>
      <div class="dtc v-mid w-75 tr">
        <a class="b pa1 f6 f5-ns mr3 mr4-ns" href="/blog">blog</a>
        <a class="b pa1 f6 f5-ns mr3 mr4-ns" href="/index.xml">rss</a>
        <a class="b pa1 f6 f5-ns mr3 mr4-ns" href="/colophon">colophon</a>
      </div>
  </nav>
  <body class="sans-serif w-90 w-60-ns center center-ns mv2 mv5-ns">
    {{ block "main" . }}{{ end }}
  </body>
</html>
